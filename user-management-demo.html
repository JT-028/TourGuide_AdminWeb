<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>User Management Demo - TourApp Admin</title>
    
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.0/font/bootstrap-icons.css">
    
    <!-- DataTables Bootstrap CSS -->
    <link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.13.4/css/dataTables.bootstrap5.min.css">
    
    <!-- Tailwind CSS for additional styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- jQuery and DataTables -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
    <script src="https://cdn.datatables.net/1.13.4/js/dataTables.bootstrap5.min.js"></script>
    
    <!-- Firebase SDK -->
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-storage-compat.js"></script>
    
    <!-- TourApp Admin Scripts -->
    <script src="js/firebase-config.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/user-management-advanced.js"></script>
    
    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</head>
<body class="bg-light">
    <div class="container-fluid py-4">
        <div class="row">
            <div class="col-12">
                <div class="card shadow">
                    <div class="card-header bg-primary text-white">
                        <h4 class="mb-0">
                            <i class="bi bi-people me-2"></i>
                            User Management Demo - Firebase Integration
                        </h4>
                    </div>
                    <div class="card-body">
                        <!-- Statistics Cards -->
                        <div class="row g-4 mb-4">
                            <div class="col-md-6 col-lg-3">
                                <div class="card border-0 shadow-sm h-100">
                                    <div class="card-body">
                                        <div class="d-flex align-items-center">
                                            <div class="flex-shrink-0">
                                                <div class="p-3 rounded-circle bg-primary bg-opacity-10 text-primary">
                                                    <i class="bi bi-people fs-4"></i>
                                                </div>
                                            </div>
                                            <div class="flex-grow-1 ms-3">
                                                <p class="text-muted mb-1 small">Total Users</p>
                                                <h4 class="mb-0 fw-bold" id="total-users">-</h4>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 col-lg-3">
                                <div class="card border-0 shadow-sm h-100">
                                    <div class="card-body">
                                        <div class="d-flex align-items-center">
                                            <div class="flex-shrink-0">
                                                <div class="p-3 rounded-circle bg-success bg-opacity-10 text-success">
                                                    <i class="bi bi-person-check fs-4"></i>
                                                </div>
                                            </div>
                                            <div class="flex-grow-1 ms-3">
                                                <p class="text-muted mb-1 small">Active Users</p>
                                                <h4 class="mb-0 fw-bold" id="active-users">-</h4>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 col-lg-3">
                                <div class="card border-0 shadow-sm h-100">
                                    <div class="card-body">
                                        <div class="d-flex align-items-center">
                                            <div class="flex-shrink-0">
                                                <div class="p-3 rounded-circle bg-warning bg-opacity-10 text-warning">
                                                    <i class="bi bi-person-x fs-4"></i>
                                                </div>
                                            </div>
                                            <div class="flex-grow-1 ms-3">
                                                <p class="text-muted mb-1 small">Pending Approval</p>
                                                <h4 class="mb-0 fw-bold" id="pending-users">-</h4>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-md-6 col-lg-3">
                                <div class="card border-0 shadow-sm h-100">
                                    <div class="card-body">
                                        <div class="d-flex align-items-center">
                                            <div class="flex-shrink-0">
                                                <div class="p-3 rounded-circle bg-danger bg-opacity-10 text-danger">
                                                    <i class="bi bi-person-dash fs-4"></i>
                                                </div>
                                            </div>
                                            <div class="flex-grow-1 ms-3">
                                                <p class="text-muted mb-1 small">Suspended</p>
                                                <h4 class="mb-0 fw-bold" id="suspended-users">-</h4>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Filters and Actions -->
                        <div class="card mb-4">
                            <div class="card-body">
                                <div class="row g-3 align-items-end">
                                    <div class="col-md-3">
                                        <label class="form-label small">User Type</label>
                                        <select class="form-select form-select-sm" id="filterRole">
                                            <option value="">All User Types</option>
                                            <option value="teacher">Teacher</option>
                                            <option value="student">Student</option>
                                            <option value="admin">Admin</option>
                                        </select>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label small">Status</label>
                                        <select class="form-select form-select-sm" id="filterStatus">
                                            <option value="">All Status</option>
                                            <option value="active">Active</option>
                                            <option value="pending">Pending</option>
                                            <option value="suspended">Suspended</option>
                                        </select>
                                    </div>
                                    <div class="col-md-3">
                                        <label class="form-label small">Search</label>
                                        <input type="text" class="form-control form-control-sm" id="searchInput" placeholder="Search users...">
                                    </div>
                                    <div class="col-md-3">
                                        <div class="d-flex gap-2">
                                            <button class="btn btn-primary btn-sm" id="exportBtn">
                                                <i class="bi bi-download me-1"></i>Export
                                            </button>
                                            <button class="btn btn-success btn-sm" id="addUserBtn">
                                                <i class="bi bi-person-plus me-1"></i>Add User
                                            </button>
                                            <button class="btn btn-warning btn-sm" id="bulkActionsBtn" disabled>
                                                <i class="bi bi-list-check me-1"></i>Bulk Actions
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- User Management Table -->
                        <div class="card">
                            <div class="card-body p-0">
                                <div class="table-responsive">
                                    <table id="userManagementTable" class="table table-striped table-hover mb-0">
                                        <thead class="table-dark">
                                            <tr>
                                                <th width="5%">
                                                    <input type="checkbox" class="form-check-input" id="selectAll">
                                                </th>
                                                <th width="20%">User Profile</th>
                                                <th width="20%">Contact Info</th>
                                                <th width="15%">Role & Department</th>
                                                <th width="10%">Status</th>
                                                <th width="15%">Last Activity</th>
                                                <th width="15%">Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="usersTableBody">
                                            <!-- Loading state -->
                                            <tr>
                                                <td colspan="7" class="text-center py-5">
                                                    <div class="d-flex justify-content-center align-items-center">
                                                        <div class="spinner-border text-primary me-3" role="status">
                                                            <span class="visually-hidden">Loading...</span>
                                                        </div>
                                                        <span class="text-muted">Loading users...</span>
                                                    </div>
                                                </td>
                                            </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>

                        <!-- Demo Information -->
                        <div class="alert alert-info mt-4" role="alert">
                            <h5 class="alert-heading">
                                <i class="bi bi-info-circle me-2"></i>
                                Demo Features
                            </h5>
                            <hr>
                            <div class="row">
                                <div class="col-md-6">
                                    <h6>âœ… Implemented Features:</h6>
                                    <ul class="mb-0">
                                        <li>Bootstrap 5 DataTable integration</li>
                                        <li>Firebase Firestore data loading</li>
                                        <li>Real-time statistics cards</li>
                                        <li>Advanced search and filtering</li>
                                        <li>Bulk operations (select multiple users)</li>
                                        <li>CSV export functionality</li>
                                        <li>User status management</li>
                                        <li>Responsive design</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6>ðŸ”§ Technical Stack:</h6>
                                    <ul class="mb-0">
                                        <li><strong>Frontend:</strong> Bootstrap 5, jQuery, DataTables</li>
                                        <li><strong>Backend:</strong> Firebase Firestore</li>
                                        <li><strong>Authentication:</strong> Firebase Auth</li>
                                        <li><strong>Icons:</strong> Bootstrap Icons</li>
                                        <li><strong>Styling:</strong> Bootstrap + Tailwind CSS</li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- Navigation -->
                        <div class="text-center mt-4">
                            <a href="user-management.html" class="btn btn-primary me-2">
                                <i class="bi bi-arrow-left me-1"></i>Back to Full Interface
                            </a>
                            <a href="test-integration.html" class="btn btn-outline-secondary">
                                <i class="bi bi-gear me-1"></i>Test Firebase Connection
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Initialize tooltips
        $(document).ready(function() {
            $('[data-bs-toggle="tooltip"]').tooltip();
        });
    </script>
</body>
</html>
